;/*FB_PKG_DELIM*/

__d("PolarisDiscoverChainingActionConstants",[],(function(a,b,c,d,e,f){"use strict";a=12;b="DISCOVER_CHAINING";f.PAGE_SIZE=a;f.DISCOVER_CHAINING_VIEW=b}),66);
__d("PolarisDiscoverChainingActions",["PolarisDiscoverChainingActionConstants","PolarisDiscoverLogger","PolarisGenericStrings","PolarisLegacyGraphQLPaginationUtils","PolarisPaginationUtils","polarisLogAction"],(function(a,b,c,d,e,f,g){"use strict";f="7477189605648670";function h(a){return{actionHandler:a,actionText:d("PolarisGenericStrings").RETRY_TEXT,text:d("PolarisGenericStrings").FAILED_TO_LOAD_TEXT}}var i=d("PolarisLegacyGraphQLPaginationUtils").generatePaginationActionCreators({getState:function(a){return a.discoverChaining.pagination},onError:function(a,b,e,f){c("polarisLogAction")("discoverPostsLoadFailed");d("PolarisDiscoverLogger").logDiscoverPostLoadFailure(a);return{fetch:b,toast:f?h(f):void 0,type:"DISCOVER_CHAINING_POSTS_LOAD_FAILED"}},onUpdate:function(a,b,e){a.type!==d("PolarisPaginationUtils").FETCH_NOOP&&c("polarisLogAction")("discoverPostsLoaded");b=b==null?void 0:(e=b.user)==null?void 0:e.edge_web_media_chaining;return{fetch:a,pageInfo:b==null?void 0:b.page_info,posts:((b==null?void 0:b.edges)||[]).map(function(a){return a==null?void 0:a.node}),type:"DISCOVER_CHAINING_POSTS_LOADED"}},pageSize:d("PolarisDiscoverChainingActionConstants").PAGE_SIZE,pagesToPreload:0,queryId:f,queryParams:function(a){return{media_id:a,surface:"WEB_EXPLORE_MEDIA_GRID"}}});f=i;function a(a){c("polarisLogAction")("discoverFirstLoadAttempt");return function(b,c){var d=c().discoverChaining.orderedPosts[0];d&&d.postId!==a&&b({type:"DISCOVER_CHAINING_REFRESH"});i.first(a)(b,c)}}function b(a,b){c("polarisLogAction")("discoverNextLoadAttempt");return i.next(a,b)}function e(){return{type:"DISCOVER_CHAINING_REFRESH"}}g._actionCreators=f;g.requestDiscoverChainingPosts=a;g.requestNextDiscoverChainingPosts=b;g.refreshDiscoverChaining=e}),98);
__d("PolarisPostLoadingShimmer.react",["cx","PolarisIGTheme.react","PolarisUA","react","react-compiler-runtime","vc-tracker"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(13),e=a.denserPost;a=a.inFeed;var f=d("PolarisIGTheme.react").useTheme(),g=a===!0&&d("PolarisUA").isDesktop();a="_aa25"+(a===!0&&!g?" _ae-j":"")+(e===!0&&!g?" _ae-k":"");e="_aa26"+(g?"":" _ajr6");var h="_aa27"+(g?" _ajr7":""),i;b[0]!==h?(i=j.jsx("div",{className:h}),b[0]=h,b[1]=i):i=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(h=j.jsx("div",{className:"_aa29"}),b[2]=h):h=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(h=j.jsxs("div",{className:"_aa28",children:[h,j.jsx("div",{className:"_aa2a"})]}),b[3]=h):h=b[3];b[4]!==e||b[5]!==i?(h=j.jsxs("div",{className:e,children:[i,h]}),b[4]=e,b[5]=i,b[6]=h):h=b[6];e="_aa2b"+(f.getTheme()===d("PolarisIGTheme.react").IGTheme.Dark?" _aa2c":"")+(g?" _ajr8":"");b[7]!==e?(i=j.jsx("div",{className:e}),b[7]=e,b[8]=i):i=b[8];b[9]!==a||b[10]!==h||b[11]!==i?(f=j.jsxs("div",babelHelpers["extends"]({},c("vc-tracker").VisualCompletionAttributes.LOADING_STATE,{className:a,children:[h,i]})),b[9]=a,b[10]=h,b[11]=i,b[12]=f):f=b[12];return f}g["default"]=a}),98);
__d("PolarisKeywordSearchExploreChainedPost.react",["PolarisIsLoggedInDesktop","PolarisPost.react","PolarisPostActionLoadPost","PolarisPostLoadingShimmer.react","PolarisPostVariants","PolarisReactRedux.react","polarisPostSelectors","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(18),e=a.analyticsContext,f=a.index,g=a.isVisible,h=a.postCode,k=a.postId;a=a.visibleIndex;var l=d("PolarisReactRedux.react").useDispatch(),m;b[0]!==k?(m=function(a){return d("polarisPostSelectors").getPostById(a,k)},b[0]=k,b[1]=m):m=b[1];m=d("PolarisReactRedux.react").useSelector(m);var n=m!=null;b[2]!==h?(m=function(a){return d("polarisPostSelectors").getIsPostFetching(a,h)},b[2]=h,b[3]=m):m=b[3];var o=d("PolarisReactRedux.react").useSelector(m),p;b[4]!==l||b[5]!==n||b[6]!==o||b[7]!==h||b[8]!==k?(m=function(){n||(o||l(d("PolarisPostActionLoadPost").loadPost(h,k)))},p=[n,h,l,o,k],b[4]=l,b[5]=n,b[6]=o,b[7]=h,b[8]=k,b[9]=m,b[10]=p):(m=b[9],p=b[10]);j(m,p);b[11]!==e||b[12]!==f||b[13]!==n||b[14]!==g||b[15]!==k||b[16]!==a?(m=n?i.jsx(c("PolarisPost.react"),{analyticsContext:e,autoplay:d("PolarisIsLoggedInDesktop").isLoggedInDesktop(),id:k,isVisible:g,position:f,variant:d("PolarisPostVariants").VARIANTS.feed,visiblePosition:a},k):i.jsx(c("PolarisPostLoadingShimmer.react"),{}),b[11]=e,b[12]=f,b[13]=n,b[14]=g,b[15]=k,b[16]=a,b[17]=m):m=b[17];return m}g["default"]=a}),98);
__d("PolarisKeywordSearchExploreHooks.react",["PolarisDynamicExploreActions","PolarisDynamicExploreTypes","PolarisReactRedux.react","polarisDynamicExploreSelectors","react-compiler-runtime","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=d("react-compiler-runtime").c(10),f=d("PolarisReactRedux.react").useDispatch(),g;e[0]!==a?(g=function(b){return d("polarisDynamicExploreSelectors").getSupportedSectionalItems(b,d("PolarisDynamicExploreTypes").DYNAMIC_EXPLORE_GRID_TYPES.keyword_grid,a)},e[0]=a,e[1]=g):g=e[1];var h=c("usePolarisSelector")(g),i=b===!0?d("PolarisDynamicExploreActions").requestKeywordExploreGridWithHashtagSerp:d("PolarisDynamicExploreActions").requestKeywordExploreGrid,j;e[2]!==f||e[3]!==a||e[4]!==h.length||e[5]!==i?(j=function(){h.length===0&&f(i({keyword:a,retryHandler:j}))},e[2]=f,e[3]=a,e[4]=h.length,e[5]=i,e[6]=j):j=e[6];g=j;e[7]!==h||e[8]!==g?(b=[h,g],e[7]=h,e[8]=g,e[9]=b):b=e[9];return b}function b(a,b){var e=d("react-compiler-runtime").c(11),f=d("PolarisReactRedux.react").useDispatch(),g;e[0]!==a?(g=function(b){return(b=b.dynamicExplore.keywordExploreGrid[a])==null?void 0:b.pagination},e[0]=a,e[1]=g):g=e[1];var h=c("usePolarisSelector")(g),i=b===!0?d("PolarisDynamicExploreActions").requestKeywordExploreGridWithHashtagSerp:d("PolarisDynamicExploreActions").requestKeywordExploreGrid,j;e[2]!==f||e[3]!==a||e[4]!==(h==null?void 0:h.cursor)||e[5]!==(h==null?void 0:h.rankToken)||e[6]!==i?(j=function(){f(i({cursor:h==null?void 0:h.cursor,keyword:a,rankToken:h==null?void 0:h.rankToken,retryHandler:j}))},e[2]=f,e[3]=a,e[4]=h==null?void 0:h.cursor,e[5]=h==null?void 0:h.rankToken,e[6]=i,e[7]=j):j=e[7];g=j;e[8]!==h||e[9]!==g?(b=[h,g],e[8]=h,e[9]=g,e[10]=b):b=e[10];return b}function e(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=function(b){return d("polarisDynamicExploreSelectors").getGridItems(b,d("PolarisDynamicExploreTypes").DYNAMIC_EXPLORE_GRID_TYPES.keyword_grid,a)},b[0]=a,b[1]=e):e=b[1];return c("usePolarisSelector")(e)}g.useKeywordExploreSectionalItems=a;g.useKeywordExplorePagination=b;g.useKeywordExploreGridItems=e}),98);
__d("PolarisKeywordSearchExploreChainingPage.react",["PolarisDynamicExploreMediaHelpers","PolarisGenericVirtualFeed.react","PolarisKeywordSearchExploreChainedPost.react","PolarisKeywordSearchExploreHooks.react","PolarisReactRedux.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function k(a){return a.map(function(a){return{postCode:d("PolarisDynamicExploreMediaHelpers").getPostCode(a),postId:d("PolarisDynamicExploreMediaHelpers").getPostId(a)}})}function a(a){var b=d("react-compiler-runtime").c(17),e=a.keyword,f=a.mediaPostCode;a=d("PolarisReactRedux.react").useDispatch();var g=d("PolarisKeywordSearchExploreHooks.react").useKeywordExploreSectionalItems(e);g=g[1];var h;b[0]!==a||b[1]!==e?(h=[a,e],b[0]=a,b[1]=e,b[2]=h):h=b[2];j(g,h);a=d("PolarisKeywordSearchExploreHooks.react").useKeywordExploreGridItems(e);var l;if(b[3]!==a||b[4]!==f){l=k(a);if(l.length>0){b[6]!==f?(g=function(a){return a.postCode===f},b[6]=f,b[7]=g):g=b[7];h=l.findIndex(g);l=l.slice(h,l.length)}b[3]=a;b[4]=f;b[5]=l}else l=b[5];g=d("PolarisKeywordSearchExploreHooks.react").useKeywordExplorePagination(e);h=g[0];a=g[1];b[8]!==l?(e=function(a){var b=a.index,d=a.isVisible;a=a.visibleIndex;var e=l[b];return i.jsx(c("PolarisKeywordSearchExploreChainedPost.react"),{analyticsContext:"KeywordSearchExploreChainingPage",index:b,isVisible:d,postCode:e.postCode,postId:e.postId,visibleIndex:a},e.postId)},b[8]=l,b[9]=e):e=b[9];g=e;e=(e=h==null?void 0:h.moreAvailable)!=null?e:!1;h=(h=h==null?void 0:h.isLoading)!=null?h:!1;var m=l,n=l,o;b[10]!==a||b[11]!==g||b[12]!==e||b[13]!==h||b[14]!==m||b[15]!==n.length?(o=i.jsx(c("PolarisGenericVirtualFeed.react"),{allowSampledScrollLogging:!0,analyticsContext:"KeywordSearchExploreChainingPage",enablePrefetch:!1,enablePriorityFetching:!1,hasNextPage:e,isFetching:h,items:m,onNextPage:a,renderFeedItem:g,visibleCount:n.length}),b[10]=a,b[11]=g,b[12]=e,b[13]=h,b[14]=m,b[15]=n.length,b[16]=o):o=b[16];return o}g["default"]=a}),98);
__d("PolarisVirtualFeed_DEPRECATED.react",["CometErrorBoundary.react","CometPlaceholder.react","FBLogger","JSResourceForInteraction","PolarisEndOfFeedDemarcator.react","PolarisFeedState","PolarisGenericVirtualFeed.react","PolarisIsLoggedInDesktop","PolarisMorePostsLikeThisHeader.react","PolarisPost.react","PolarisPostVariants","cr:483","lazyLoadComponent","polarisLogAction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisSuggestedUserFeedUnit_DEPRECATED.react").__setRef("PolarisVirtualFeed_DEPRECATED.react"));function k(){c("polarisLogAction")("feedUnitFailure",{source:"PolarisVirtualFeed"})}a=function(a){babelHelpers.inheritsLoose(e,a);function e(){var e,f;for(var g=arguments.length,h=new Array(g),l=0;l<g;l++)h[l]=arguments[l];return(e=f=a.call.apply(a,[this].concat(h))||this,f.$1=i.createRef(),f.$2=function(a){var e=a.index,g=a.isVisible;a=a.visibleIndex;var h=f.props,l=h.analyticsContext,m=h.itemClassName,n=h.items;h=h.morePostsLikeThisHeaderIndex;var o=n[e];if(o==null){c("FBLogger")("ig_web").mustfix("no item at index=%s, size=%s",e,n.length);return null}switch(o.type){case"GraphImage":case"GraphVideo":case"GraphSidecar":n=i.jsx(c("PolarisPost.react"),{analyticsContext:l,autoplay:d("PolarisIsLoggedInDesktop").isLoggedInDesktop(),className:m,id:o.postId,isVisible:g,position:e,variant:d("PolarisPostVariants").VARIANTS.feed,visiblePosition:a},o.postId);return h!=null&&h===e?i.jsxs("div",{children:[n,i.jsx(c("PolarisMorePostsLikeThisHeader.react"),{})]},o.postId):n;case"GraphSuggestedUserFeedUnit":return i.jsx(c("CometErrorBoundary.react"),{onError:k,children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(j,{aysfUserIds:o==null?void 0:(l=o.userIds)==null?void 0:l.toArray(),className:m,position:e,trackingToken:o.trackingInfo.token,type:o.trackingInfo.type,variant:f.props.variant})})},e);case d("PolarisFeedState").END_OF_FEED_DEMARCATOR_TYPE:return i.jsx(c("PolarisEndOfFeedDemarcator.react"),{className:m,showPastPostsLink:o.showPastPostsLink,subtitle:o.subtitle,title:o.title},o.id);case"bloks_netego":return b("cr:483")==null?null:i.jsx(b("cr:483"),{gapToPreviousAd:null,gapToPreviousNetego:null,id:o.id,netegoType:o.netego_type,payload:o.payload,position:e,trackingToken:o.tracking_token},o.id);default:c("FBLogger")("ig_web").mustfix("unexpected feed item type: %s",o.type);return null}},e)||babelHelpers.assertThisInitialized(f)}var f=e.prototype;f.scrollToNextFeedItem=function(){var a;(a=this.$1.current)==null?void 0:a.scrollToNextFeedItem()};f.scrollToPreviousFeedItem=function(){var a;(a=this.$1.current)==null?void 0:a.scrollToPreviousFeedItem()};f.render=function(){return i.jsx(c("PolarisGenericVirtualFeed.react"),{analyticsContext:this.props.analyticsContext,enablePrefetch:!0,enablePriorityFetching:!0,hasNextPage:this.props.hasNextPage,initialRenderCount:this.props.initialRenderCount,isFetching:this.props.isFetching,items:this.props.items,onNextPage:this.props.onNextPage,prefetchUsingItemDistance:!1,ref:this.$1,renderFeedItem:this.$2,visibleCount:this.props.visibleCount})};return e}(i.PureComponent);g["default"]=a}),98);
__d("PolarisMediaChainingPage.react",["cx","PolarisDiscoverChainingActionConstants","PolarisMediaChainingPageConstants","PolarisMediaPrefetchContainer_DEPRECATED.react","PolarisPostLoadingShimmer.react","PolarisPostVariants","PolarisSizing","PolarisVirtualFeed_DEPRECATED.react","hero-tracing-placeholder","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$1=function(){c.props.onFetchNext(c.$1)},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){this.props.onFetchFirstLoad()};e.$2=function(){var a=this.props.items.map(function(a){return a.postId});return j.jsx(c("PolarisMediaPrefetchContainer_DEPRECATED.react"),{postIds:a,viewKey:d("PolarisDiscoverChainingActionConstants").DISCOVER_CHAINING_VIEW})};e.$3=function(){return!this.props.items.length?j.jsx(c("PolarisPostLoadingShimmer.react"),{inFeed:!0}):j.jsx(c("PolarisVirtualFeed_DEPRECATED.react"),{analyticsContext:d("PolarisMediaChainingPageConstants").MEDIA_CHAINING_ANALYTICS_CONTEXT,hasNextPage:this.props.hasNextPage,isFetching:this.props.isFetching,itemClassName:"_aa08",items:this.props.items,morePostsLikeThisHeaderIndex:0,onNextPage:this.$1,variant:this.props.viewportWidth>=d("PolarisSizing").SITE_WIDTHS.narrow?d("PolarisPostVariants").VARIANTS.wide:d("PolarisPostVariants").VARIANTS.narrow,visibleCount:this.props.visibleCount})};e.render=function(){return j.jsxs(j.Fragment,{children:[j.jsxs("section",{className:"_aa09 _aa0a",children:[this.$3(),this.$2()]}),j.jsx(d("hero-tracing-placeholder").HeroHoldTrigger,{description:"MediaChainingPage",hold:this.props.isFetching})]})};return b}(j.Component);g["default"]=a}),98);
__d("PolarisMediaChainingPageContainer.react",["PolarisDiscoverChainingActions","PolarisMediaChainingPage.react","PolarisPaginationUtils","PolarisReactRedux.react","polarisPostSelectors","react","react-compiler-runtime","usePolarisDisplayProperties"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));h.useMemo;function a(a,b){var c=a.discoverChaining,e=c.orderedPosts;c=c.pagination;var f=e,g=d("PolarisPaginationUtils").getVisibleCount(c),h=!!d("PolarisPaginationUtils").hasNextPage(c);d("polarisPostSelectors").getPostOrNullById(a,b.mediaId)!=null&&(e.length===0?(f=[{postId:b.mediaId,type:b.mediaType}],g=1,h=!0):f.find(function(a){return a.postId===b.mediaId})||(f=[{postId:b.mediaId,type:b.mediaType}].concat(f),g++));return{hasNextPage:h,isFetching:d("PolarisPaginationUtils").isFetching(c),items:f,visibleCount:g}}function b(a,b){return{onFetchFirstLoad:function(){a(d("PolarisDiscoverChainingActions").requestDiscoverChainingPosts(b.mediaId))},onFetchNext:function(c){a(d("PolarisDiscoverChainingActions").requestNextDiscoverChainingPosts(b.mediaId,c))}}}function e(){var a=d("react-compiler-runtime").c(2),b=c("usePolarisDisplayProperties")();b=b.viewportWidth;var e;a[0]!==b?(e={viewportWidth:b},a[0]=b,a[1]=e):e=a[1];b=e;return b}f=d("PolarisReactRedux.react").connect(a,b)(c("PolarisMediaChainingPage.react"));a=d("PolarisReactRedux.react").connectHooks(e)(f);g["default"]=a}),98);
__d("usePolarisIsEligibleForPostChaining",["PolarisUA","useRouteReferrer"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useRouteReferrer")();if(!d("PolarisUA").isMobile())return!1;return(a==null?void 0:a.navigationType)==="navigation"&&(a==null?void 0:a.tracePolicy)==="polaris.profilePage"?!1:!1}g["default"]=a}),98);
__d("PolarisPostRootLoggedIn.react",["PolarisKeywordSearchExploreChainingPage.react","PolarisMediaChainingPageContainer.react","PolarisMediaConstants","PolarisPostPage.react","PolarisUA","react","react-compiler-runtime","useEmptyFunction","usePolarisIsEligibleForPostChaining","usePolarisPreloadedGetQuery"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useRef;function k(a){var b=a.comments;a=a.related_media;b=c("usePolarisPreloadedGetQuery")(b);var d=j(a.preloadEnabledOnInit||a.preloadEnabledOnNav);d=j(d.current?c("usePolarisPreloadedGetQuery"):c("useEmptyFunction")).current;d=d(a);return{commentsQuery:b,relatedMediaQuery:d}}function a(a){var b=d("react-compiler-runtime").c(16);a=a.props;var e=a.routeParams,f=e.chaining,g=e.comment_id,h=e.q,j=e.reply_id;e=e.shortcode;a=a.routeProps;var l=a.media_id,m=a.media_owner_id,n=a.media_type,o=a.polaris_preload;a=a.qr;o=k(o);var p=o.commentsQuery;o=o.relatedMediaQuery;var q;b[0]!==n?(q=n!=null?d("PolarisMediaConstants").mapMediaTypeToGraphType(n):null,b[0]=n,b[1]=q):q=b[1];n=q;q=c("usePolarisIsEligibleForPostChaining")();if(d("PolarisUA").isMobile()&&h!=null){h=String(h);var r;b[2]!==e||b[3]!==h?(r=i.jsx(c("PolarisKeywordSearchExploreChainingPage.react"),{keyword:h,mediaPostCode:e}),b[2]=e,b[3]=h,b[4]=r):r=b[4];e=r}else if(d("PolarisUA").isMobile()&&(f===!0||q)&&n!=null&&n!=="UNSUPPORTED_MEDIA_TYPE"){b[5]!==n||b[6]!==l?(h=i.jsx(c("PolarisMediaChainingPageContainer.react"),{mediaId:l,mediaType:n}),b[5]=n,b[6]=l,b[7]=h):h=b[7];e=h}else{b[8]!==g||b[9]!==p||b[10]!==m||b[11]!==l||b[12]!==a||b[13]!==o||b[14]!==j?(r=i.jsx(c("PolarisPostPage.react"),{fromAdvertiser:window.location.hash==="#advertiser",initialCommentsQuery:p,likedByShortcode:null,ownerId:m,permalinkedCommentId:g,permalinkedReplyId:j,postId:l,relatedMediaQuery:o,showQRModal:a}),b[8]=g,b[9]=p,b[10]=m,b[11]=l,b[12]=a,b[13]=o,b[14]=j,b[15]=r):r=b[15];e=r}return e}g["default"]=a}),98);